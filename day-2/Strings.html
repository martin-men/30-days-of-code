<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>30 DAYS OF CODE - Day 2 - Strings</title>
</head>

<body>
    <script>
        let flag = true, opt, str, char;
        str = prompt("Enter a string");

        while (flag) {
            opt = prompt("Your string is: " + str + "\n" + 
                "--------------------------------------------\n" +
                "| 1. Count letters\n" +
                "| 2. Count digits\n" +
                "| 3. Count an specific character\n" +
                "| 4. Change string\n" +
                "| 5. Exit\n" +
                "--------------------------------------------\n");

            switch (opt) {
                case "1":
                    alert("The string has " + countLetters(str) + " letters");
                    break;

                case "2":
                    alert("The string has " + countDigits(str) + " digits");
                    break;

                case "3":
                    char = prompt("Which character do you want to count?");
                    alert("The string has " + countCharacter(str, char) + " " + char + "'s");
                    break;

                case "4":
                    str = prompt("Enter a new string");
                    break;

                case "5":
                    flag = false;
                    break;

                default:
                    alert("Error: Invalid option");
                    flag = false;
                    break;
            }
        }

        function countLetters(str) {
            let count = 0;

            /*Se recorre toda la cadena en busqueda de caracteres cuyo codigo ASCII 
            se encuentre en los rangos de los codigos ASCII de letras mayusculas y minusculas*/
            for (let i = 0; i < str.length; i++) {
                if (((str.charCodeAt(i) > 96) && (str.charCodeAt(i) < 123)) || ((str.charCodeAt(i) > 64) && (str.charCodeAt(i) < 91))) {
                    count++;
                }
            }

            return count;
        }

        function countDigits(str) {
            let count = 0;

            /*Se recorre toda la cadena en busqueda de caracteres cuyo codigo ASCII 
            se encuentre en el rango de los codigos ASCII de los digitos*/
            for (let i = 0; i < str.length; i++) {
                if ((str.charCodeAt(i) > 47) && (str.charCodeAt(i) < 58)) {
                    count++;
                }
            }

            return count;
        }

        function countCharacter(str, char) {
            let count = 0;

            /*Se recorre toda la cadena en busqueda de caracteres que coincidan con el 
            caracter a buscar*/
            for (let i = 0; i < str.length; i++) {
                if (str[i] == char) {
                    count++;
                }
            }

            return count;
        }
    </script>
</body>

</html>